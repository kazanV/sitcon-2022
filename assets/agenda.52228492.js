var N=Object.defineProperty;var D=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var b=(s,r,n)=>r in s?N(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n,B=(s,r)=>{for(var n in r||(r={}))L.call(r,n)&&b(s,n,r[n]);if(D)for(var n of D(r))O.call(r,n)&&b(s,n,r[n]);return s};import{_ as R}from"./GeneralHead.92b12682.js";import{_ as C,A as V,o as t,a,b as o,F as c,v as _,x as v,t as l,n as I,e as g,f as S,w as k,c as f,h as w,p as U,g as j,B as J,C as K}from"./app.4c09a5a1.js";import{_ as A}from"./Markdown.8eab2cfb.js";const E={name:"AgendaTable",data(){return{sessionData:V}},computed:{rooms(){return["R2","R0","R1","R3","S"]},times(){return[...new Set([...this.sessionData.sessions.map(({start:s})=>s),...this.sessionData.sessions.map(({end:s})=>s)])].map(s=>new Date(s)).sort()},startTimes(){return[...new Set([...this.sessionData.sessions.map(({start:s})=>s)])].map(s=>new Date(s)).sort()},gridTemplateColumns(){return this.rooms.map(s=>`[\u{1F95E}${s}]`)},gridTemplateRows(){let s=this.times.map(r=>this.parseTime(r)).sort().map(r=>`[\u{1F95E}${r}]`);return["[roomname]","[decoration-line-start]",...s,"[\u{1F95E}end]"]},activeSession(){var s,r;if(this.$route.meta.id){let n=this.sessionData.sessions.find(u=>u.id===this.$route.meta.id);n=JSON.parse(JSON.stringify(n)),n.type=(r=(s=this.sessionData.session_types.filter(u=>u.id===n.type)[0])==null?void 0:s.zh)==null?void 0:r.name;let m=n.zh.description.split(/## 先備知識\n/),h=m[0],e="";return m.length>1&&(e=m[1]),n.zh.description=h,n.priorKnowledge=e,n.speakers=n.speakers.map(u=>this.sessionData.speakers.filter(y=>y.id===u)[0]).map(u=>JSON.parse(JSON.stringify(u))),n}},sessionModal:{get(){return!!this.activeSession},set(s){s||this.$router.push("/agenda/")}}},watch:{"$route.meta.id":function(s){this.sessionModal=!!s}},methods:{getTypeById(s){return["Ev"].includes(s)?null:this.sessionData.session_types.filter(n=>n.id===s)[0]},getTagById(s){return this.sessionData.tags.filter(r=>r.id===s)[0]},parseTime(s){return new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\:/g,"")},parseSessionStyle(s){let r="\u{1F95E}"+this.parseTime(s.start),n="\u{1F95E}"+this.parseTime(s.end);if(s.broadcast){let m=Math.min(...s.broadcast.map(e=>this.rooms.indexOf(e))),h=Math.max(...s.broadcast.map(e=>this.rooms.indexOf(e)));return m=this.rooms[m]||"time",h=this.rooms[h+1]||"end",{"grid-column-start":`\u{1F95E}${m}`,"grid-column-end":`\u{1F95E}${h}`,"grid-row":`${r} / ${n}`}}else return{"grid-column-start":`\u{1F95E}${s.room}`,"grid-row":`${r} / ${n}`}},openModel(s){s.zh.description&&this.$router.push(`/agenda/${s.id}`)}}},T=s=>(U("data-v-45f30f13"),s=s(),j(),s),F={class:"time-item-content"},G=T(()=>o("div",{class:"decoration-line"},null,-1)),H=[G],X=T(()=>o("div",{class:"decoration-end-arrow"},null,-1)),q=[X],P=["onClick"],Q={class:"session-title"},W={key:0,class:"speakers"},Y={class:"tags"},Z=["data-type"],$={class:"agenda-mobile-list"},ee={class:"time-item"},se=["onClick"],te={class:"session-title"},ae={key:0,class:"speakers"},ie={class:"footer"},ne={class:"tags"},oe=["data-type"],re={class:"room"},de={key:0,class:"agenda-dialog"},le={class:"agenda-dialog-header"},ce={class:"agenda-info"},_e={class:"agenda-title"},ue={class:"agenda-info"},he={class:"agenda-dialog-content"},ge={class:"agenda-dialog-content-description"},me={key:0,class:"tags"},pe=T(()=>o("span",{class:"tags-title"},"Tags",-1)),ve=w(": "),ye={class:"tags-content"},fe={class:"description"},Se={class:"agenda-dialog-content-info"},ke=T(()=>o("div",{class:"section-title"},"\u5148\u5099\u77E5\u8B58",-1)),we={class:"section-content"},Te={class:"links"},ze=w("\u7C21\u5831\u9023\u7D50"),De=w("\u5171\u7B46\u9023\u7D50"),be={class:"agenda-speaker"},Be={class:"content"},Ie={class:"agenda-speaker-name"},Ce={class:"agenda-speaker-bio"},xe=["src"];function Me(s,r,n,m,h,e){const u=A,y=J,x=K,z=R;return t(),a("div",null,[o("div",{class:"agenda-teble",style:v({gridTemplateColumns:["[\u{1F95E}time]","auto",e.gridTemplateColumns.join(" 1fr ")+"1fr","[\u{1F95E}end]"].join(" "),gridTemplateRows:e.gridTemplateRows.join(" auto ")})},[(t(!0),a(c,null,_(e.times,i=>(t(),a("div",{class:"time-item",style:v({"grid-column-start":"\u{1F95E}time","grid-row-start":`\u{1F95E}${e.parseTime(i)}`})},[o("div",F,l(i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),1)],4))),256)),(t(!0),a(c,null,_(e.rooms,i=>(t(),a("div",{class:"decoration-container",style:v({"grid-column-start":`\u{1F95E}${i}`,"grid-row-start":"decoration-line-start","grid-row-end":"\u{1F95E}end"})},H,4))),256)),(t(!0),a(c,null,_(e.rooms,i=>(t(),a("div",{class:"decoration-end",style:v({"grid-column-start":`\u{1F95E}${i}`,"grid-row-start":"\u{1F95E}end"})},q,4))),256)),(t(!0),a(c,null,_(e.rooms,i=>(t(),a("div",{class:"room-name",style:v({"grid-column-start":`\u{1F95E}${i}`,"grid-row-start":"roomname"})},l(i),5))),256)),(t(!0),a(c,null,_(h.sessionData.sessions,i=>(t(),a("div",{class:I(["session-item",{hoverable:i.zh.description}]),style:v(B({},e.parseSessionStyle(i))),onClick:d=>e.openModel(i)},[o("div",Q,l(i.zh.title),1),i.speakers.length>0?(t(),a("div",W,[(t(!0),a(c,null,_(i.speakers,d=>(t(),a("span",{key:d.id},l(h.sessionData.speakers.filter(p=>p.id==d)[0].zh.name),1))),128))])):g("",!0),o("div",Y,[e.getTypeById(i.type)?(t(),a("span",{key:0,"data-type":i.type}," #"+l(e.getTypeById(i.type).zh.name),9,Z)):g("",!0),(t(!0),a(c,null,_(i.tags,d=>(t(),a("span",{key:d}," #"+l(e.getTagById(d).zh.name),1))),128))])],14,P))),256))],4),o("div",$,[(t(!0),a(c,null,_(e.startTimes,i=>(t(),a(c,null,[o("div",ee,l(i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),1),(t(!0),a(c,null,_(h.sessionData.sessions.filter(d=>new Date(d.start).toString()==i),d=>(t(),a("div",{class:I(["session-item",{hoverable:d.zh.description}]),onClick:p=>e.openModel(d)},[o("div",te,l(d.zh.title),1),d.speakers.length>0?(t(),a("div",ae,[(t(!0),a(c,null,_(d.speakers,p=>(t(),a("span",{key:p.id},l(h.sessionData.speakers.filter(M=>M.id==p)[0].zh.name),1))),128))])):g("",!0),o("div",ie,[o("div",ne,[e.getTypeById(d.type)?(t(),a("span",{key:0,"data-type":d.type}," #"+l(e.getTypeById(d.type).zh.name),9,oe)):g("",!0),(t(!0),a(c,null,_(d.tags,p=>(t(),a("span",{key:p}," #"+l(e.getTagById(p).zh.name),1))),128))]),o("div",re,l(d.room)+" / "+l(Math.floor((new Date(d.end)-new Date(d.start))/1e3/60))+"mins ",1)])],10,se))),256))],64))),256))]),S(x,{modelValue:e.sessionModal,"onUpdate:modelValue":r[0]||(r[0]=i=>e.sessionModal=i)},{default:k(()=>[e.activeSession?(t(),a("div",de,[o("div",le,[o("div",ce,l(e.activeSession.type),1),o("div",_e,l(e.activeSession.zh.title),1),o("div",ue,l(e.activeSession.room)+" \u2022 "+l(new Date(e.activeSession.start).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}))+" ~"+l(new Date(e.activeSession.end).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),1)]),o("div",he,[o("div",ge,[e.activeSession.tags.length>0?(t(),a("div",me,[pe,ve,o("span",ye,l(e.activeSession.tags.map(i=>e.getTagById(i).zh.name).join(", ")),1)])):g("",!0),o("div",fe,[S(u,{content:e.activeSession.zh.description},null,8,["content"])])]),o("div",Se,[e.activeSession.priorKnowledge.length?(t(),a(c,{key:0},[ke,o("div",we,[S(u,{content:e.activeSession.priorKnowledge},null,8,["content"])])],64)):g("",!0),o("div",Te,[e.activeSession.slide?(t(),f(y,{key:0,href:e.activeSession.slide},{default:k(()=>[ze]),_:1},8,["href"])):g("",!0),e.activeSession.co_write?(t(),f(y,{key:1,href:e.activeSession.co_write},{default:k(()=>[De]),_:1},8,["href"])):g("",!0),e.activeSession.record||e.activeSession.live?(t(),f(y,{key:2,href:e.activeSession.record||e.activeSession.live},{default:k(()=>[w(l(e.activeSession.record?"\u9304\u5F71":"\u76F4\u64AD")+"\u9023\u7D50",1)]),_:1},8,["href"])):g("",!0)])])]),(t(!0),a(c,null,_(e.activeSession.speakers,i=>(t(),a("div",be,[o("div",Be,[o("div",Ie,l(i.zh.name),1),o("div",Ce,[S(u,{content:i.zh.bio},null,8,["content"])])]),o("img",{class:"agenda-speaker-avatar",src:i.avatar},null,8,xe)]))),256))])):g("",!0)]),_:1},8,["modelValue"]),e.activeSession?(t(),f(z,{key:0,"page-title":e.activeSession.zh.title,title:e.activeSession.zh.title,description:e.activeSession.zh.description,image:`https://sitcon.org/2022/imgs/sessions/${e.activeSession.id}.png`},null,8,["page-title","title","description","image"])):(t(),f(z,{key:1,"page-title":" \u8B70\u7A0B\u8CC7\u8A0A",title:"\u8B70\u7A0B\u8CC7\u8A0A | SITCON X",description:"\u5927\u6703\u5404\u9805\u4E00\u822C\u8B70\u7A0B\u8207\u958B\u653E\u5F0F\u8B70\u7A0B\u7684\u5730\u9EDE\u3001\u6642\u7A0B\u4E00\u89BD\u8868",image:"https://sitcon.org/2022/imgs/og.jpg"}))])}var Ne=C(E,[["render",Me],["__scopeId","data-v-45f30f13"]]);const Le={},Oe={class:"container"};function Re(s,r){const n=Ne;return t(),a("div",Oe,[S(n)])}var Ke=C(Le,[["render",Re]]);export{Ke as default};
